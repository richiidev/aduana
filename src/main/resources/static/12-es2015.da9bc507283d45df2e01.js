(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"7PqN":function(t,e,o){"use strict";o.r(e),o.d(e,"FacturasTabsPageModule",(function(){return k}));var r=o("ofXK"),a=o("3Pt+"),n=o("TEn/"),i=o("tyNb"),c=o("mrSG"),s=o("AytR"),l=o("fXoL"),b=o("tk/3");function u(t,e){1&t&&(l.Kb(0,"p"),l.gc(1,"El RFC es necesario"),l.Jb())}function d(t,e){if(1&t&&(l.Kb(0,"ion-text",8),l.fc(1,u,2,0,"p",19),l.Kb(2,"p"),l.gc(3," El RFC "),l.Kb(4,"ion-badge",20),l.gc(5,"NO EXISTE"),l.Jb(),l.Jb(),l.Jb()),2&t){const t=l.Ub();l.xb(1),l.Zb("ngIf",(null==t.facturaForm.controls.rfc.errors?null:t.facturaForm.controls.rfc.errors.required)&&t.facturaForm.controls.rfc.dirty)}}function f(t,e){1&t&&(l.Kb(0,"ion-text",21),l.Kb(1,"p"),l.gc(2," El RFC "),l.Kb(3,"ion-badge",22),l.gc(4,"EXISTE"),l.Jb(),l.Jb(),l.Jb())}let h=(()=>{class t{constructor(t,e,o){this.modalCtrl=t,this.http=e,this.toastCtrl=o,this.rfc=""}ngOnInit(){this.cargarFormulario(),this.modalCtrl.getTop().then(t=>{console.log("Los datos recibidos son: ",t.componentProps),this.rfc=t.componentProps.rfc,this.id=t.componentProps.id,this.facturaForm.setValue({agente:t.componentProps.agente,almacen:t.componentProps.almacen,awb:t.componentProps.awb,factura:t.componentProps.factura,hbw:t.componentProps.hbw,pedimento:t.componentProps.pedimento,rfc:t.componentProps.rfc})}).catch(t=>console.log("Error al cargar el modal",t))}cargarFormulario(){this.facturaForm=new a.c({agente:new a.a(null,a.m.required),almacen:new a.a(null,a.m.required),awb:new a.a(null,a.m.required),factura:new a.a(null,a.m.required),hbw:new a.a(null,a.m.required),pedimento:new a.a(null,a.m.required),rfc:new a.a(null,a.m.required,this.rfcUnico.bind(this))})}editarFactura(){const t=Object.assign(Object.assign({},this.facturaForm.value),{fecha:(new Date).toISOString(),id:this.id});this.http.put(s.a.apiUrl+"/facturas",t).subscribe(t=>{console.log("Resp de actualizar factura",t),t.success?this.cerrarModal(!0,t.data):this.mostrarToast("Error al crear la factura","danger")},t=>{this.mostrarToast("Error al crear la factura","danger"),console.log("Error al crear la factura",t)}),console.log("La factura final sera",t)}cerrarModal(t,e){this.modalCtrl.dismiss({completado:t,nuevo:e})}rfcUnico(t){return new Promise((t,e)=>Object(c.b)(this,void 0,void 0,(function*(){yield this.http.get(`${s.a.apiUrl}/usuario/rfc/?rfc=${this.facturaForm.controls.rfc.value}`).subscribe(e=>{console.log("Se hizo bien",e),t(1==e.data.length?null:{existe:!0})},e=>{console.log("Se hizo MAL",e),t({existe:!0})})})))}mostrarToast(t,e){return Object(c.b)(this,void 0,void 0,(function*(){return(yield this.toastCtrl.create({message:t,color:e,duration:3e3})).present()}))}}return t.\u0275fac=function(e){return new(e||t)(l.Hb(n.Q),l.Hb(b.a),l.Hb(n.U))},t.\u0275cmp=l.Bb({type:t,selectors:[["app-editar-factura"]],decls:71,vars:5,consts:[[1,"ion-text-center"],["slot","start"],["color","dark",3,"click"],["name","chevron-back-circle"],[3,"formGroup","ngSubmit"],["fixed",""],["size","6"],["position","floating"],["color","danger"],["required","","formControlName","agente","type","text"],["required","","formControlName","almacen","type","text"],["required","","formControlName","awb","type","text"],["required","","formControlName","factura","type","text"],["required","","formControlName","hbw","type","text"],["required","","formControlName","pedimento","type","text"],["required","","formControlName","rfc","type","text","oninput","this.value = this.value.toUpperCase()","type","text"],["color","danger",4,"ngIf"],["color","success",4,"ngIf"],["type","submit","expand","full",3,"disabled"],[4,"ngIf"],["color","danger","mode","ios"],["color","success"],["color","success","mode","ios"]],template:function(t,e){1&t&&(l.Kb(0,"ion-header"),l.Kb(1,"ion-toolbar",0),l.Kb(2,"ion-buttons",1),l.Kb(3,"ion-button",2),l.Sb("click",(function(){return e.cerrarModal(!1)})),l.Ib(4,"ion-icon",3),l.gc(5," Cancelar "),l.Jb(),l.Jb(),l.Kb(6,"ion-title"),l.gc(7),l.Jb(),l.Jb(),l.Jb(),l.Kb(8,"ion-content"),l.Kb(9,"ion-card"),l.Kb(10,"ion-card-header",0),l.Kb(11,"ion-card-title"),l.gc(12,"Ingresa los nuevos datos "),l.Jb(),l.Jb(),l.Kb(13,"ion-card-content"),l.Kb(14,"form",4),l.Sb("ngSubmit",(function(){return e.editarFactura()})),l.Kb(15,"ion-grid",5),l.Kb(16,"ion-row"),l.Kb(17,"ion-col",6),l.Kb(18,"ion-item"),l.Kb(19,"ion-label",7),l.gc(20,"Agente "),l.Kb(21,"ion-text",8),l.gc(22,"*"),l.Jb(),l.Jb(),l.Ib(23,"ion-input",9),l.Jb(),l.Jb(),l.Kb(24,"ion-col",6),l.Kb(25,"ion-item"),l.Kb(26,"ion-label",7),l.gc(27,"Almacen "),l.Kb(28,"ion-text",8),l.gc(29,"*"),l.Jb(),l.Jb(),l.Ib(30,"ion-input",10),l.Jb(),l.Jb(),l.Jb(),l.Kb(31,"ion-row"),l.Kb(32,"ion-col",6),l.Kb(33,"ion-item"),l.Kb(34,"ion-label",7),l.gc(35,"AWB "),l.Kb(36,"ion-text",8),l.gc(37,"*"),l.Jb(),l.Jb(),l.Ib(38,"ion-input",11),l.Jb(),l.Jb(),l.Kb(39,"ion-col",6),l.Kb(40,"ion-item"),l.Kb(41,"ion-label",7),l.gc(42,"Factura "),l.Kb(43,"ion-text",8),l.gc(44,"*"),l.Jb(),l.Jb(),l.Ib(45,"ion-input",12),l.Jb(),l.Jb(),l.Jb(),l.Kb(46,"ion-row"),l.Kb(47,"ion-col",6),l.Kb(48,"ion-item"),l.Kb(49,"ion-label",7),l.gc(50,"HBW "),l.Kb(51,"ion-text",8),l.gc(52,"*"),l.Jb(),l.Jb(),l.Ib(53,"ion-input",13),l.Jb(),l.Jb(),l.Kb(54,"ion-col",6),l.Kb(55,"ion-item"),l.Kb(56,"ion-label",7),l.gc(57,"Pedimento "),l.Kb(58,"ion-text",8),l.gc(59,"*"),l.Jb(),l.Jb(),l.Ib(60,"ion-input",14),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(61,"ion-item"),l.Kb(62,"ion-label",7),l.gc(63,"RFC "),l.Kb(64,"ion-text",8),l.gc(65,"*"),l.Jb(),l.Jb(),l.Ib(66,"ion-input",15),l.fc(67,d,6,1,"ion-text",16),l.fc(68,f,5,0,"ion-text",17),l.Jb(),l.Kb(69,"ion-button",18),l.gc(70," Actualizar factura "),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb()),2&t&&(l.xb(7),l.ic("RFC ",e.rfc,""),l.xb(7),l.Zb("formGroup",e.facturaForm),l.xb(53),l.Zb("ngIf",null==e.facturaForm.controls.rfc.errors?null:e.facturaForm.controls.rfc.errors.existe),l.xb(1),l.Zb("ngIf",e.facturaForm.controls.rfc.valid),l.xb(1),l.Zb("disabled",e.facturaForm.untouched))},directives:[n.s,n.L,n.g,n.f,n.t,n.K,n.n,n.h,n.j,n.k,n.i,a.n,a.i,a.d,n.r,n.B,n.m,n.v,n.w,n.J,n.u,n.T,a.l,a.h,a.b,r.j,n.e],styles:[""]}),t})();function m(t,e){if(1&t&&(l.Kb(0,"p"),l.gc(1),l.Vb(2,"date"),l.Jb()),2&t){const t=l.Ub();l.xb(1),l.hc(l.Wb(2,1,t.fechaInicio))}}function g(t,e){if(1&t&&(l.Kb(0,"p"),l.gc(1),l.Vb(2,"date"),l.Jb()),2&t){const t=l.Ub();l.xb(1),l.hc(l.Wb(2,1,t.fechaFinal))}}function p(t,e){if(1&t){const t=l.Lb();l.Kb(0,"ion-item"),l.Kb(1,"ion-checkbox",11),l.Sb("ngModelChange",(function(o){return l.cc(t),e.$implicit.check=o})),l.Jb(),l.Kb(2,"ion-label"),l.gc(3," RFC "),l.Kb(4,"p"),l.gc(5),l.Jb(),l.Jb(),l.Kb(6,"ion-label"),l.gc(7," Agente "),l.Kb(8,"p"),l.gc(9),l.Jb(),l.Jb(),l.Kb(10,"ion-label"),l.gc(11," Factura "),l.Kb(12,"p"),l.gc(13),l.Jb(),l.Jb(),l.Kb(14,"ion-label"),l.gc(15," pedimento "),l.Kb(16,"p"),l.gc(17),l.Jb(),l.Jb(),l.Kb(18,"ion-label"),l.gc(19," Fecha "),l.Kb(20,"p"),l.gc(21),l.Jb(),l.Jb(),l.Jb()}if(2&t){const t=e.$implicit;l.xb(1),l.Zb("ngModel",t.check),l.xb(4),l.ic(" ",null==t?null:t.rfc," "),l.xb(4),l.ic(" ",null==t?null:t.agente," "),l.xb(4),l.ic(" ",null==t?null:t.factura," "),l.xb(4),l.ic(" ",null==t?null:t.pedimento," "),l.xb(4),l.ic(" ",null==t?null:t.fecha," ")}}let J=(()=>{class t{constructor(t,e,o,r){this.http=t,this.toastCtrl=e,this.actionSheetController=o,this.modalCtrl=r,this.facturas=[],this.seleccionados=[],this.pagina=0,this.fechaInicio="",this.fechaFinal=""}ngOnInit(){console.log("Empiece")}trackByFn(t,e){return t}setFechaInicio(t){console.log("la fecha inicio es",t),this.fechaInicio=t}setFechaFinal(t){console.log("la fecha final es",t),this.fechaFinal=t}cambiarDePagina(t){let e,o;t?(e=15*(this.pagina+1),o=e+15,this.pagina++):(e=15*(this.pagina-1),o=e+15,this.pagina--),this.facturasPaginada(e,o),console.log("paginado",{inicio:e,final:o})}facturasPaginada(t,e){return this.http.get(`${s.a.apiUrl}/facturas/paginas?rango1=${t}&rango2=${e}`).subscribe(o=>{console.log(`De ${t} a ${e}`,o)},t=>console.log("Error al traer paginadas",t))}editarFactura(t){return Object(c.b)(this,void 0,void 0,(function*(){const e=yield this.modalCtrl.create({component:h,componentProps:this.facturas[t],backdropDismiss:!1});yield e.present();const o=yield e.onWillDismiss();o.data.completado&&(this.mostrarToast("Se gurdo correctamente","success"),console.log("ASi vienen los datos ",o.data),this.facturas[t]=o.data.nuevo,this.facturas=[...this.facturas])}))}seleccionar(){this.facturas.forEach((t,e)=>{t.check&&this.seleccionados.push({index:e})}),1==this.seleccionados.length?this.mostrarOpcionesIndividual(this.seleccionados[0].index):this.mostrarOpcionesMultiple(),console.log("Seleccionados",this.seleccionados)}mostrarOpcionesMultiple(){return Object(c.b)(this,void 0,void 0,(function*(){const t=yield this.actionSheetController.create({header:"Que deseas hacer con las facturas seleccionadas : ",cssClass:"my-custom-class",buttons:[{text:"Eliminar",icon:"trash",handler:()=>{this.eliminarFacturasSeleccionadas()}},{text:"Canelar",icon:"close",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]});yield t.present()}))}mostrarOpcionesIndividual(t){return Object(c.b)(this,void 0,void 0,(function*(){const e=yield this.actionSheetController.create({header:"Que deseas hacer con la factura con RFC : "+this.facturas[t].rfc+", Agente: "+this.facturas[t].agente,cssClass:"my-custom-class",buttons:[{text:"Eliminar",icon:"trash",handler:()=>{this.eliminarFactura(t)}},{text:"Editar",icon:"create",handler:()=>{this.editarFactura(t)}},{text:"Abrir archivo XML",icon:"code-working",handler:()=>{this.abrirArchivo(t,"xml")}},{text:"Abrir archivo PDF",icon:"document",handler:()=>{this.abrirArchivo(t,"pdf")}},{text:"Canelar",icon:"close",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]});yield e.present(),this.seleccionados=[]}))}abrirArchivo(t,e){var o=document.createElement("a");o.href=`${s.a.apiFile}/file/${this.facturas[t].factura}.${e}`,o.setAttribute("target","_blank"),o.click(),o.remove()}eliminarFacturasSeleccionadas(){var t,e;return Object(c.b)(this,void 0,void 0,(function*(){console.log("Que pedooo",this.seleccionados);try{try{for(var o,r=Object(c.a)(this.seleccionados);!(o=yield r.next()).done;){const t=o.value;console.log("Broooooo"),yield this.peticionEliminarFactura(t.index)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=r.return)&&(yield e.call(r))}finally{if(t)throw t.error}}this.seleccionados=[],console.log("Segun termino"),this.facturas=this.facturas.filter(t=>!t.check),this.mostrarToast("Se borraron correctamente","success")}catch(n){this.mostrarToast("Ocurrio un error al borrarlos","danger")}}))}peticionEliminarFactura(t){return console.log("Puta peticion"),this.http.delete(`${s.a.apiUrl}/facturas/id?id=${this.facturas[t].id}`).toPromise().then(t=>{console.log("resp al eliminar la factura",t)}).catch(t=>{this.mostrarToast("Algo salio mal...","danger"),console.log("Error al al eliminar la factura",t)})}eliminarFactura(t){return this.http.delete(`${s.a.apiUrl}/facturas/id?id=${this.facturas[t].id}`).subscribe(t=>{t.success?(this.actionSheetController.dismiss(),this.mostrarToast("Se elimino correctamente","success"),this.facturas=this.facturas.filter(t=>!t.check),console.log("Las",this.facturas)):this.mostrarToast("Algo salio mal...","danger")},t=>{this.mostrarToast("Algo salio mal...","danger"),console.log("Error al al eliminar la factura",t)})}buscarFactura(t){console.log("Valor",t.target.value),this.peticionFactura("prueba"==t.target.value||13==t.target.value.length?"facturas/rfc?rfc="+t.target.value:"facturas/factura?folio="+t.target.value)}peticionFactura(t){this.http.get(`${s.a.apiUrl}/${t}`).subscribe(t=>{console.log("Resp de buscar factura",t),t.data.length>0?(t.data.forEach(t=>{this.facturas.push(Object.assign(Object.assign({},t),{check:!1}))}),this.facturas=t.data,this.mostrarToast("Se encontraron","success")):this.mostrarToast("No se encotraron","danger")},t=>{console.log("Error al buscar la factura",t)})}mostrarToast(t,e){return Object(c.b)(this,void 0,void 0,(function*(){const o=yield this.toastCtrl.create({message:t,color:e,duration:3e3});yield o.present()}))}}return t.\u0275fac=function(e){return new(e||t)(l.Hb(b.a),l.Hb(n.U),l.Hb(n.a),l.Hb(n.Q))},t.\u0275cmp=l.Bb({type:t,selectors:[["app-buscar"]],decls:26,vars:4,consts:[["color","primary",1,"ion-text-center"],["display-format","YYYY-MM-DD",2,"display","none",3,"ionChange"],["fechasInicio",""],["fechasFinal",""],["placeholder","Puedes buscar por RFC o FOLIO","inputmode","text","type","text","debounce","1000",3,"ionChange"],["size","6"],["expand","block","color","dark",3,"click"],["color","danger","expand","block",3,"click"],[4,"ngIf"],[3,"items","trackBy"],[4,"virtualItem"],[3,"ngModel","ngModelChange"]],template:function(t,e){if(1&t){const t=l.Lb();l.Kb(0,"ion-header"),l.Kb(1,"ion-toolbar",0),l.Kb(2,"ion-datetime",1,2),l.Sb("ionChange",(function(t){return e.setFechaInicio(t.target.value)})),l.Jb(),l.Kb(4,"ion-datetime",1,3),l.Sb("ionChange",(function(t){return e.setFechaFinal(t.target.value)})),l.Jb(),l.Kb(6,"ion-title"),l.gc(7,"Buscar factura"),l.Jb(),l.Kb(8,"ion-searchbar",4),l.Sb("ionChange",(function(t){return e.buscarFactura(t)})),l.Jb(),l.Kb(9,"ion-row"),l.Kb(10,"ion-col",5),l.Kb(11,"ion-button",6),l.Sb("click",(function(){return e.seleccionar()})),l.gc(12," Opciones Facturas seleccionadas "),l.Jb(),l.Jb(),l.Kb(13,"ion-col",5),l.Kb(14,"ion-row"),l.Kb(15,"ion-col",5),l.Kb(16,"ion-button",7),l.Sb("click",(function(){return l.cc(t),l.bc(3).open()})),l.gc(17," Fecha de inicio "),l.Jb(),l.fc(18,m,3,3,"p",8),l.Jb(),l.Kb(19,"ion-col",5),l.Kb(20,"ion-button",7),l.Sb("click",(function(){return l.cc(t),l.bc(5).open()})),l.gc(21," Fecha final "),l.Jb(),l.fc(22,g,3,3,"p",8),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(23,"ion-content"),l.Kb(24,"ion-virtual-scroll",9),l.fc(25,p,22,6,"ion-item",10),l.Jb(),l.Jb()}2&t&&(l.xb(18),l.Zb("ngIf",""!=e.fechaInicio),l.xb(4),l.Zb("ngIf",""!=e.fechaFinal),l.xb(2),l.Zb("items",e.facturas)("trackBy",e.trackByFn))},directives:[n.s,n.L,n.o,n.S,n.K,n.C,n.T,n.B,n.m,n.f,r.j,n.n,n.M,n.V,n.v,n.l,n.c,a.h,a.j,n.w],pipes:[r.d],styles:[""]}),t})();function K(t,e){1&t&&(l.Kb(0,"p"),l.gc(1,"El RFC es necesario"),l.Jb())}function x(t,e){if(1&t&&(l.Kb(0,"ion-text",6),l.fc(1,K,2,0,"p",26),l.Kb(2,"p"),l.gc(3," El RFC "),l.Kb(4,"ion-badge",27),l.gc(5,"NO EXISTE"),l.Jb(),l.Jb(),l.Jb()),2&t){const t=l.Ub();l.xb(1),l.Zb("ngIf",(null==t.facturaForm.controls.rfc.errors?null:t.facturaForm.controls.rfc.errors.required)&&t.facturaForm.controls.rfc.dirty)}}function F(t,e){1&t&&(l.Kb(0,"ion-text",28),l.Kb(1,"p"),l.gc(2," El RFC "),l.Kb(3,"ion-badge",29),l.gc(4,"EXISTE"),l.Jb(),l.Jb(),l.Jb())}function v(t,e){if(1&t&&(l.Kb(0,"ion-item",30),l.Kb(1,"ion-label",28),l.gc(2),l.Jb(),l.Jb()),2&t){const t=l.Ub();l.xb(2),l.ic("PDF seleccionado: ",t.pdf.name,"")}}function y(t,e){if(1&t&&(l.Kb(0,"ion-item",30),l.Kb(1,"ion-label",28),l.gc(2),l.Jb(),l.Jb()),2&t){const t=l.Ub();l.xb(2),l.ic("XML seleccionado: ",t.xml.name,"")}}let w=(()=>{class t{constructor(t,e,o){this.http=t,this.toastCtrl=e,this.cargando=o}ngOnInit(){this.cargarFormulario()}subirArchivo(t,e){const o=e.type.split("/")[1],r=new FormData;return r.append("file",e,t+"."+o),this.http.post(s.a.apiUrl+"/upload",r).toPromise().then(t=>{console.log("Resp para subir archivos",t)}).catch(t=>console.log("Error al subir archivos",t))}seleccionarArchivo(t){0==(t.target||t.srcElement).value.length?console.log("Cancelo la seleccion"):(console.log("Archivo seleccionado",t.target.files[0]),t.target.files[0].type.endsWith("/pdf")?(this.pdf=t.target.files[0],this.facturaForm.controls.pdf.setValue(!0)):t.target.files[0].type.endsWith("/xml")&&(this.xml=t.target.files[0],this.facturaForm.controls.xml.setValue(!0)))}cargarFormulario(){this.facturaForm=new a.c({agente:new a.a(null,a.m.required),almacen:new a.a(null,a.m.required),awb:new a.a(null,a.m.required),factura:new a.a(null,a.m.required),hbw:new a.a(null,a.m.required),pedimento:new a.a(null,a.m.required),rfc:new a.a(null,[a.m.required,a.m.minLength(4),a.m.maxLength(18)],this.rfcUnico.bind(this)),pdf:new a.a(!1,a.m.requiredTrue),xml:new a.a(!1,a.m.requiredTrue)})}crearFactura(){return Object(c.b)(this,void 0,void 0,(function*(){yield this.mostrarCargando();const t={agente:this.facturaForm.value.agente,almacen:this.facturaForm.value.almacen,awb:this.facturaForm.value.awb,factura:this.facturaForm.value.factura,hbw:this.facturaForm.value.hbw,pedimento:this.facturaForm.value.pedimento,rfc:this.facturaForm.value.rfc,fecha:(new Date).toISOString()};this.subirArchivo(this.facturaForm.value.factura,this.pdf).then(()=>this.subirArchivo(this.facturaForm.value.factura,this.xml)).then(()=>this.http.post(s.a.apiUrl+"/facturas",t).toPromise()).then(t=>{console.log("Resp de crear factura",t),t.success?(this.cargando.dismiss(),this.mostrarToast("Se creo correctamente la factura","success"),this.facturaForm.reset({agente:null,almacen:null,awb:null,factura:null,hbw:null,pedimento:null,rfc:null,pdf:!1,xml:!1}),this.pdf=void 0,this.xml=void 0):(this.cargando.dismiss(),this.mostrarToast("Error al crear la factura","danger"))}).catch(t=>{this.cargando.dismiss(),this.mostrarToast("Error al crear la factura","danger"),console.log("Error al subir archivos",t)}),console.log("La factura final sera",t)}))}rfcUnico(t){return new Promise((t,e)=>{this.http.get(`${s.a.apiUrl}/usuario/rfcValidacion/?rfc=${this.facturaForm.controls.rfc.value}`).subscribe(e=>{console.log("Se hizo bien",e),t(1==e.data.length?null:{existe:!0})},e=>{console.log("Se hizo MAL",e),t({existe:!0})})})}mostrarCargando(){return Object(c.b)(this,void 0,void 0,(function*(){const t=yield this.cargando.create({message:"Subiendo archivos y guardando la factura, espere....",backdropDismiss:!1});yield t.present()}))}mostrarToast(t,e){return Object(c.b)(this,void 0,void 0,(function*(){return(yield this.toastCtrl.create({message:t,color:e,duration:3e3})).present()}))}}return t.\u0275fac=function(e){return new(e||t)(l.Hb(b.a),l.Hb(n.U),l.Hb(n.P))},t.\u0275cmp=l.Bb({type:t,selectors:[["app-crear"]],decls:96,vars:6,consts:[["color","dark",1,"ion-text-center"],[1,"ion-text-center"],[3,"formGroup"],["fixed",""],["size","6"],["position","floating"],["color","danger"],["required","","formControlName","agente","type","text"],["required","","formControlName","almacen","type","text"],["required","","formControlName","awb","type","text"],["required","","formControlName","factura","type","text"],["required","","formControlName","hbw","type","text"],["required","","formControlName","pedimento","type","text"],["size","12"],["debounce","1000","required","","formControlName","rfc","oninput","this.value = this.value.toUpperCase()","type","text"],["color","danger",4,"ngIf"],["color","success",4,"ngIf"],["name","document-outline",2,"font-size","150px"],["color","dark","expand","block","shape","round",3,"click"],["slot","start","name","add"],["style","text-align: center;",4,"ngIf"],["name","code-working",2,"font-size","150px"],["expand","block","color","dark","shape","round",3,"click"],["expand","full",3,"disabled","click"],["type","file","accept",".pdf,.xml",2,"display","none",3,"change"],["archivos",""],[4,"ngIf"],["color","danger","mode","ios"],["color","success"],["color","success","mode","ios"],[2,"text-align","center"]],template:function(t,e){if(1&t){const t=l.Lb();l.Kb(0,"ion-header"),l.Kb(1,"ion-toolbar",0),l.Kb(2,"ion-title"),l.gc(3," Crear Factura"),l.Jb(),l.Jb(),l.Jb(),l.Kb(4,"ion-content"),l.Kb(5,"ion-card"),l.Kb(6,"ion-card-header",1),l.Kb(7,"ion-card-title"),l.gc(8,"Ingresa los datos necesarios"),l.Jb(),l.Jb(),l.Kb(9,"ion-card-content"),l.Kb(10,"form",2),l.Kb(11,"ion-grid",3),l.Kb(12,"ion-row"),l.Kb(13,"ion-col",4),l.Kb(14,"ion-item"),l.Kb(15,"ion-label",5),l.gc(16,"Agente "),l.Kb(17,"ion-text",6),l.gc(18,"*"),l.Jb(),l.Jb(),l.Ib(19,"ion-input",7),l.Jb(),l.Jb(),l.Kb(20,"ion-col",4),l.Kb(21,"ion-item"),l.Kb(22,"ion-label",5),l.gc(23,"Almacen "),l.Kb(24,"ion-text",6),l.gc(25,"*"),l.Jb(),l.Jb(),l.Ib(26,"ion-input",8),l.Jb(),l.Jb(),l.Jb(),l.Kb(27,"ion-row"),l.Kb(28,"ion-col",4),l.Kb(29,"ion-item"),l.Kb(30,"ion-label",5),l.gc(31,"AWB "),l.Kb(32,"ion-text",6),l.gc(33,"*"),l.Jb(),l.Jb(),l.Ib(34,"ion-input",9),l.Jb(),l.Jb(),l.Kb(35,"ion-col",4),l.Kb(36,"ion-item"),l.Kb(37,"ion-label",5),l.gc(38,"Factura "),l.Kb(39,"ion-text",6),l.gc(40,"*"),l.Jb(),l.Jb(),l.Ib(41,"ion-input",10),l.Jb(),l.Jb(),l.Jb(),l.Kb(42,"ion-row"),l.Kb(43,"ion-col",4),l.Kb(44,"ion-item"),l.Kb(45,"ion-label",5),l.gc(46,"HBW "),l.Kb(47,"ion-text",6),l.gc(48,"*"),l.Jb(),l.Jb(),l.Ib(49,"ion-input",11),l.Jb(),l.Jb(),l.Kb(50,"ion-col",4),l.Kb(51,"ion-item"),l.Kb(52,"ion-label",5),l.gc(53,"Pedimento "),l.Kb(54,"ion-text",6),l.gc(55,"*"),l.Jb(),l.Jb(),l.Ib(56,"ion-input",12),l.Jb(),l.Jb(),l.Jb(),l.Kb(57,"ion-row"),l.Kb(58,"ion-col",13),l.Kb(59,"ion-item"),l.Kb(60,"ion-label",5),l.gc(61,"RFC "),l.Kb(62,"ion-text",6),l.gc(63,"*"),l.Jb(),l.Jb(),l.Ib(64,"ion-input",14),l.fc(65,x,6,1,"ion-text",15),l.fc(66,F,5,0,"ion-text",16),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(67,"ion-card"),l.Kb(68,"ion-grid",3),l.Kb(69,"ion-row"),l.Kb(70,"ion-col",4),l.Kb(71,"ion-card"),l.Kb(72,"ion-card-header",1),l.Kb(73,"ion-card-title"),l.gc(74,"Archivo PDF necesario"),l.Jb(),l.Jb(),l.Kb(75,"ion-card-content",1),l.Ib(76,"ion-icon",17),l.Jb(),l.Kb(77,"ion-button",18),l.Sb("click",(function(){return l.cc(t),l.bc(95).click()})),l.gc(78," Seleccionar PDF "),l.Ib(79,"ion-icon",19),l.Jb(),l.fc(80,v,3,1,"ion-item",20),l.Jb(),l.Jb(),l.Kb(81,"ion-col",4),l.Kb(82,"ion-card"),l.Kb(83,"ion-card-header",1),l.Kb(84,"ion-card-title"),l.gc(85,"Archivo XML necesario"),l.Jb(),l.Jb(),l.Kb(86,"ion-card-content",1),l.Ib(87,"ion-icon",21),l.Jb(),l.Kb(88,"ion-button",22),l.Sb("click",(function(){return l.cc(t),l.bc(95).click()})),l.gc(89," Seleccionar XML "),l.Ib(90,"ion-icon",19),l.Jb(),l.fc(91,y,3,1,"ion-item",20),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(92,"ion-button",23),l.Sb("click",(function(){return e.crearFactura()})),l.gc(93," Crear factura "),l.Jb(),l.Jb(),l.Kb(94,"input",24,25),l.Sb("change",(function(t){return e.seleccionarArchivo(t)})),l.Jb(),l.Jb()}2&t&&(l.xb(10),l.Zb("formGroup",e.facturaForm),l.xb(55),l.Zb("ngIf",null==e.facturaForm.controls.rfc.errors?null:e.facturaForm.controls.rfc.errors.existe),l.xb(1),l.Zb("ngIf",e.facturaForm.controls.rfc.valid),l.xb(14),l.Zb("ngIf",null!=e.pdf),l.xb(11),l.Zb("ngIf",null!=e.xml),l.xb(1),l.Zb("disabled",e.facturaForm.invalid))},directives:[n.s,n.L,n.K,n.n,n.h,n.j,n.k,n.i,a.n,a.i,a.d,n.r,n.B,n.m,n.v,n.w,n.J,n.u,n.T,a.l,a.h,a.b,r.j,n.t,n.f,n.e],styles:[""]}),t})();const C=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Bb({type:t,selectors:[["app-facturas-tabs"]],decls:10,vars:0,consts:[["color","dark","slot","bottom,top"],["tab","crear"],["name","add-circle"],["tab","buscar"],["name","search"]],template:function(t,e){1&t&&(l.Kb(0,"ion-tabs"),l.Kb(1,"ion-tab-bar",0),l.Kb(2,"ion-tab-button",1),l.Ib(3,"ion-icon",2),l.Kb(4,"ion-label"),l.gc(5,"Crear"),l.Jb(),l.Jb(),l.Kb(6,"ion-tab-button",3),l.Ib(7,"ion-icon",4),l.Kb(8,"ion-label"),l.gc(9,"Buscar"),l.Jb(),l.Jb(),l.Jb(),l.Jb())},directives:[n.I,n.G,n.H,n.t,n.w],styles:[""]}),t})(),children:[{path:"",redirectTo:"crear",pathMatch:"full"},{path:"crear",component:w},{path:"buscar",component:J}]}];let I=(()=>{class t{}return t.\u0275mod=l.Fb({type:t}),t.\u0275inj=l.Eb({factory:function(e){return new(e||t)},imports:[[i.h.forChild(C)],i.h]}),t})(),k=(()=>{class t{}return t.\u0275mod=l.Fb({type:t}),t.\u0275inj=l.Eb({factory:function(e){return new(e||t)},imports:[[r.b,n.N,I,a.e,a.k,b.b]]}),t})()}}]);