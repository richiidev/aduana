(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{SAfC:function(t,e,a){"use strict";a.r(e),a.d(e,"AdminModule",(function(){return we}));var o=a("ofXK"),i=a("fXoL"),r=a("XhcP"),n=a("/t3+"),s=a("MutI"),c=a("tyNb"),l=a("NFeN"),b=a("f0Cb");function u(t,e){if(1&t&&(i.Rb(0,"div"),i.Rb(1,"mat-list-item",4),i.wc(2),i.Rb(3,"mat-icon",5),i.wc(4),i.Qb(),i.Qb(),i.Mb(5,"mat-divider"),i.Qb()),2&t){const t=e.$implicit;i.Ab(1),i.hc("routerLink",t.ruta),i.Ab(1),i.yc(" ",t.titulo," "),i.Ab(2),i.yc(" ",t.icon,"")}}let d=(()=>{class t{constructor(){this.menuOpciones=[{icon:"receipt",ruta:"facturas",titulo:"Facturas"},{icon:"monetization_on",ruta:"pagos",titulo:"Pagos"},{icon:"people",ruta:"usuarios",titulo:"Usuarios"}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["app-admin"]],decls:8,vars:1,consts:[["mode","side","opened",""],[2,"text-align","center"],["src","assets/imgs/logo_swissport_mini.png","alt",""],[4,"ngFor","ngForOf"],[2,"text-align","right",3,"routerLink"],["mat-list-icon",""]],template:function(t,e){1&t&&(i.Rb(0,"mat-sidenav-container"),i.Rb(1,"mat-sidenav",0),i.Rb(2,"mat-toolbar",1),i.Mb(3,"img",2),i.Qb(),i.Rb(4,"mat-list"),i.vc(5,u,6,3,"div",3),i.Qb(),i.Qb(),i.Rb(6,"mat-sidenav-content"),i.Mb(7,"router-outlet"),i.Qb(),i.Qb()),2&t&&(i.Ab(5),i.hc("ngForOf",e.menuOpciones))},directives:[r.b,r.a,n.a,s.a,o.i,r.c,c.e,s.c,c.b,l.a,s.b,b.a],styles:["mat-sidenav-container[_ngcontent-%COMP%]{height:100%}mat-sidenav[_ngcontent-%COMP%]{width:20%}"]}),t})();var m=a("0EQZ"),h=a("S2gQ"),p=a("AytR"),f=a("tk/3"),g=a("dNgK"),w=a("lGQG"),R=a("kmnG"),v=a("qFsG"),Q=a("bTqV"),_=a("STbY"),C=a("zkoq"),y=a("vxfF"),A=a("+0xr"),k=a("bSwM");function F(t,e){1&t&&i.Mb(0,"tr",28)}function x(t,e){1&t&&i.Mb(0,"tr",29)}function D(t,e){if(1&t){const t=i.Sb();i.Rb(0,"th",30),i.Rb(1,"mat-checkbox",31),i.Yb("change",(function(e){i.nc(t);const a=i.cc();return e?a.masterToggle():null})),i.Qb(),i.Qb()}if(2&t){const t=i.cc();i.Ab(1),i.hc("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function M(t,e){if(1&t){const t=i.Sb();i.Rb(0,"td",32),i.Rb(1,"mat-checkbox",33),i.Yb("click",(function(e){return i.nc(t),e.stopPropagation()}))("change",(function(a){i.nc(t);const o=e.$implicit,r=i.cc();return a?r.selection.toggle(o):null})),i.Qb(),i.Qb()}if(2&t){const t=e.$implicit,a=i.cc();i.Ab(1),i.hc("checked",a.selection.isSelected(t))("aria-label",a.checkboxLabel(t))}}function O(t,e){1&t&&(i.Rb(0,"th",30),i.wc(1,"Factura"),i.Qb())}function P(t,e){if(1&t&&(i.Rb(0,"td",32),i.wc(1),i.Qb()),2&t){const t=e.$implicit;i.Ab(1),i.xc(t.factura)}}function S(t,e){1&t&&(i.Rb(0,"th",30),i.wc(1,"RFC"),i.Qb())}function j(t,e){if(1&t&&(i.Rb(0,"td",32),i.wc(1),i.Qb()),2&t){const t=e.$implicit;i.Ab(1),i.xc(t.rfc)}}function T(t,e){1&t&&(i.Rb(0,"th",30),i.wc(1,"AWB"),i.Qb())}function $(t,e){if(1&t&&(i.Rb(0,"td",32),i.wc(1),i.Qb()),2&t){const t=e.$implicit;i.Ab(1),i.xc(t.awb)}}function E(t,e){1&t&&(i.Rb(0,"th",30),i.wc(1,"HBW"),i.Qb())}function L(t,e){if(1&t&&(i.Rb(0,"td",32),i.wc(1),i.Qb()),2&t){const t=e.$implicit;i.Ab(1),i.xc(t.hbw)}}function I(t,e){1&t&&(i.Rb(0,"th",30),i.wc(1,"Pedimento"),i.Qb())}function z(t,e){if(1&t&&(i.Rb(0,"td",32),i.wc(1),i.Qb()),2&t){const t=e.$implicit;i.Ab(1),i.xc(t.pedimento)}}function N(t,e){1&t&&(i.Rb(0,"th",30),i.wc(1,"Fecha"),i.Qb())}function U(t,e){if(1&t&&(i.Rb(0,"td",32),i.wc(1),i.Qb()),2&t){const t=e.$implicit;i.Ab(1),i.xc(t.fecha)}}function Y(t,e){1&t&&(i.Rb(0,"th",30),i.wc(1,"Agente"),i.Qb())}function H(t,e){if(1&t&&(i.Rb(0,"td",32),i.wc(1),i.Qb()),2&t){const t=e.$implicit;i.Ab(1),i.xc(t.agente)}}function V(t,e){1&t&&(i.Rb(0,"th",30),i.wc(1,"Opciones"),i.Qb())}function B(t,e){if(1&t){const t=i.Sb();i.Rb(0,"td",32),i.Rb(1,"button",34),i.Yb("click",(function(){i.nc(t);const a=e.$implicit;return i.cc().abrirSeleccionado(a.factura,"pdf")})),i.Rb(2,"mat-icon",35),i.wc(3," picture_as_pdf "),i.Qb(),i.Qb(),i.Rb(4,"button",34),i.Yb("click",(function(){i.nc(t);const a=e.$implicit;return i.cc().abrirSeleccionado(a.factura,"xml")})),i.Rb(5,"mat-icon",35),i.wc(6," code "),i.Qb(),i.Qb(),i.Rb(7,"button",34),i.Yb("click",(function(){i.nc(t);const a=e.$implicit;return i.cc().descargarIndividual(a.factura)})),i.Rb(8,"mat-icon",35),i.wc(9," get_app"),i.Qb(),i.Qb(),i.Qb()}}let q=(()=>{class t{constructor(t,e,a){this.http=t,this.mensajeCtrl=e,this.auth=a,this.selection=new m.c(!0,[]),this.displayedColumnsPrueba=["select","factura","rfc","awb","hbw","pedimento","fecha","agente","opciones"],this.facturaTabla=new h.b([])}ngOnInit(){this.facturasPaginada(0,50)}descargarIndividual(t){const e=[t+".xml",t+".pdf"],a=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);this.generarZip(a,e)}descargarXmls(){let t=[];this.selection.selected.forEach(e=>{t.push(e.factura+".xml")});const e=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);this.generarZip(e,t)}descargarPdfs(){let t=[];this.selection.selected.forEach(e=>{t.push(e.factura+".pdf")});const e=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);this.generarZip(e,t)}descargarPdfsYXmls(){let t=[];this.selection.selected.forEach(e=>{t.push(e.factura+".pdf"),t.push(e.factura+".xml")});const e=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);this.generarZip(e,t)}generarZip(t,e){this.http.post(`${p.a.apiUrl}/zip?zipFile=${t}`,e).toPromise().then(e=>{console.log("Resp de hacer zip archivos",e),e.success?this.descargarZip(t):this.mostrarMensaje("Error al descargar el zip","snackRojo")}).catch(t=>{console.log("Error al comprimir archios",t),this.mostrarMensaje("Error al descargar el zip","snackRojo")})}descargarZip(t){var e=document.createElement("a");e.href=`${p.a.apiFile}/file/${t}.zip`,e.download=t,e.click(),e.remove()}abrirSeleccionado(t,e){console.log(t);var a=document.createElement("a");a.href=`${p.a.apiFile}/file/${t}.${e}`,a.setAttribute("target","_blank"),a.click(),a.remove()}verCuales(){console.log(this.selection.selected)}isAllSelected(){return this.selection.selected.length===this.facturaTabla.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.facturaTabla.data.forEach(t=>this.selection.select(t))}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}mostrarMensaje(t,e){this.mensajeCtrl.open(t,null,{duration:3e3,verticalPosition:"bottom",panelClass:[e]})}buscarFactura(t){console.log("Valor",t.value),this.peticionFactura("ADMIN"==t||12==t.length||13==t.length?"facturas/rfc?rfc="+t:"facturas/factura?folio="+t)}facturasPaginada(t,e){return this.http.get(`${p.a.apiUrl}/facturas/paginas?rango1=${t}&rango2=${e}`).subscribe(a=>{console.log(`De ${t} a ${e}`,a),a.data.length>0&&(this.facturaTabla=new h.b(a.data))},t=>console.log("Error al traer paginadas",t))}peticionFactura(t){this.http.get(`${p.a.apiUrl}/${t}`).subscribe(t=>{console.log("Resp de buscar factura",t),t.data.length>0?this.facturaTabla=new h.b(t.data):this.mostrarMensaje("No se encotraron","snackRojo")},t=>{console.log("Error al buscar la factura",t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(f.a),i.Lb(g.a),i.Lb(w.a))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-facturas"]],decls:88,vars:13,consts:[["color","primary"],[2,"width","90%"],["debounce","1000","matInput","",3,"change"],["mat-button","",3,"matMenuTriggerFor"],["perfil","matMenu"],[2,"text-align","center"],["src","assets/imgs/avatar-01.jpg","alt",""],[2,"font-weight","bold"],["mat-menu-item","",3,"click"],["cols","3","rowHeight","2:1"],["mat-raised-button","",3,"disabled","matMenuTriggerFor"],["mat-raised-button",""],["exportar","matMenu"],["tvsItemSize","",1,"wrapper","mat-elevation-z2"],["mat-table","",3,"dataSource"],["mat-header-row","","class","tablaHeader",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","factura"],["matColumnDef","rfc"],["matColumnDef","awb"],["matColumnDef","hbw"],["matColumnDef","pedimento"],["matColumnDef","fecha"],["matColumnDef","agente"],["matColumnDef","opciones"],["mat-header-row","",1,"tablaHeader"],["mat-row",""],["mat-header-cell",""],[2,"background","white",3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[2,"background","white",3,"checked","aria-label","click","change"],[3,"click"],["mat-list-icon",""]],template:function(t,e){if(1&t&&(i.Rb(0,"p"),i.Rb(1,"mat-toolbar",0),i.Rb(2,"mat-toolbar-row"),i.Rb(3,"mat-form-field",1),i.Rb(4,"mat-label"),i.wc(5,"Buscar factura por RFC o Factura"),i.Qb(),i.Rb(6,"input",2),i.Yb("change",(function(t){return e.buscarFactura(t.target.value)})),i.Qb(),i.Qb(),i.Rb(7,"button",3),i.wc(8),i.Rb(9,"mat-icon"),i.wc(10,"expand_more"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(11,"mat-menu",null,4),i.Rb(13,"div",5),i.Mb(14,"img",6),i.Rb(15,"p",7),i.wc(16),i.Qb(),i.Rb(17,"p"),i.wc(18),i.Qb(),i.Qb(),i.Mb(19,"mat-divider"),i.Rb(20,"div",5),i.Rb(21,"span"),i.wc(22),i.dc(23,"uppercase"),i.Qb(),i.Qb(),i.Mb(24,"mat-divider"),i.Rb(25,"button",8),i.Yb("click",(function(){return e.auth.cerrarSesion()})),i.Rb(26,"mat-icon"),i.wc(27,"assignment_return"),i.Qb(),i.Rb(28,"span"),i.wc(29,"Cerrar sesion"),i.Qb(),i.Qb(),i.Qb(),i.Rb(30,"mat-grid-list",9),i.Rb(31,"mat-grid-tile"),i.Rb(32,"button",10),i.wc(33," Exportar "),i.Qb(),i.Qb(),i.Rb(34,"mat-grid-tile"),i.Rb(35,"button",11),i.wc(36," Hoy "),i.Qb(),i.Qb(),i.Rb(37,"mat-grid-tile"),i.Rb(38,"button",11),i.wc(39," Filtro "),i.Qb(),i.Qb(),i.Qb(),i.Rb(40,"mat-menu",null,12),i.Rb(42,"button",8),i.Yb("click",(function(){return e.descargarPdfsYXmls()})),i.Rb(43,"mat-icon"),i.wc(44,"cloud_download"),i.Qb(),i.Rb(45,"span"),i.wc(46,"Descargar archivos PDFs y XMLs"),i.Qb(),i.Qb(),i.Rb(47,"button",8),i.Yb("click",(function(){return e.descargarPdfs()})),i.Rb(48,"mat-icon"),i.wc(49,"cloud_download"),i.Qb(),i.Rb(50,"span"),i.wc(51,"Descargar solo PDFs"),i.Qb(),i.Qb(),i.Rb(52,"button",8),i.Yb("click",(function(){return e.descargarXmls()})),i.Rb(53,"mat-icon"),i.wc(54,"cloud_download"),i.Qb(),i.Rb(55,"span"),i.wc(56,"Descargar solo XMLs"),i.Qb(),i.Qb(),i.Qb(),i.Rb(57,"cdk-virtual-scroll-viewport",13),i.Rb(58,"table",14),i.vc(59,F,1,0,"tr",15),i.vc(60,x,1,0,"tr",16),i.Pb(61,17),i.vc(62,D,2,3,"th",18),i.vc(63,M,2,2,"td",19),i.Ob(),i.Pb(64,20),i.vc(65,O,2,0,"th",18),i.vc(66,P,2,1,"td",19),i.Ob(),i.Pb(67,21),i.vc(68,S,2,0,"th",18),i.vc(69,j,2,1,"td",19),i.Ob(),i.Pb(70,22),i.vc(71,T,2,0,"th",18),i.vc(72,$,2,1,"td",19),i.Ob(),i.Pb(73,23),i.vc(74,E,2,0,"th",18),i.vc(75,L,2,1,"td",19),i.Ob(),i.Pb(76,24),i.vc(77,I,2,0,"th",18),i.vc(78,z,2,1,"td",19),i.Ob(),i.Pb(79,25),i.vc(80,N,2,0,"th",18),i.vc(81,U,2,1,"td",19),i.Ob(),i.Pb(82,26),i.vc(83,Y,2,0,"th",18),i.vc(84,H,2,1,"td",19),i.Ob(),i.Pb(85,27),i.vc(86,V,2,0,"th",18),i.vc(87,B,10,0,"td",19),i.Ob(),i.Qb(),i.Qb()),2&t){const t=i.mc(12),a=i.mc(41);i.Ab(7),i.hc("matMenuTriggerFor",t),i.Ab(1),i.yc(" ",null==e.auth.usuario?null:e.auth.usuario.nombre," "),i.Ab(8),i.xc(null==e.auth.usuario?null:e.auth.usuario.nombre),i.Ab(2),i.xc(null==e.auth.usuario?null:e.auth.usuario.correo),i.Ab(4),i.xc(i.ec(23,11,null==e.auth.usuario?null:e.auth.usuario.idrol.rol)),i.Ab(10),i.hc("disabled",e.selection.isEmpty())("matMenuTriggerFor",a),i.Ab(26),i.hc("dataSource",e.facturaTabla),i.Ab(1),i.hc("matHeaderRowDef",e.displayedColumnsPrueba)("matHeaderRowDefSticky",!0),i.Ab(1),i.hc("matRowDefColumns",e.displayedColumnsPrueba)}},directives:[n.a,n.c,R.c,R.f,v.a,Q.a,_.c,l.a,_.d,b.a,_.a,C.a,C.c,y.c,h.a,A.j,A.g,A.i,A.c,A.e,A.b,A.f,A.h,A.d,k.a,A.a,s.b],pipes:[o.p],styles:[".wrapper[_ngcontent-%COMP%]{height:550px}table[_ngcontent-%COMP%]{width:100%}.mat-toolbar[_ngcontent-%COMP%]{background:#ebebeb;color:#000}.tablaHeader[_ngcontent-%COMP%]{font-size:14px;background-color:#0f0f0f}.mat-header-cell[_ngcontent-%COMP%]{color:#fff}"]}),t})();var X=a("u47x"),Z=a("GU7r"),G=a("+rOU"),W=a("FKr1"),J=(a("R1ws"),a("XNiG")),K=(a("quSY"),a("VRyK"),a("xgIS"),a("LRne")),tt=(a("PqYM"),a("R0Ic")),et=a("JX91"),at=(a("/uUt"),a("1G5W"),a("8LU1"),a("nLfN"),a("FtGj")),ot=a("cH1L");let it=(()=>{class t{}return t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({factory:function(e){return new(e||t)},imports:[[o.b,W.f,G.g,W.n,Z.c,X.a],W.f]}),t})();function rt(t,e){1&t&&i.Mb(0,"tr",25)}function nt(t,e){1&t&&i.Mb(0,"tr",26)}function st(t,e){if(1&t){const t=i.Sb();i.Rb(0,"th",27),i.Rb(1,"mat-checkbox",28),i.Yb("change",(function(e){i.nc(t);const a=i.cc();return e?a.masterToggle():null})),i.Qb(),i.Qb()}if(2&t){const t=i.cc();i.Ab(1),i.hc("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function ct(t,e){if(1&t){const t=i.Sb();i.Rb(0,"td",29),i.Rb(1,"mat-checkbox",30),i.Yb("click",(function(e){return i.nc(t),e.stopPropagation()}))("change",(function(a){i.nc(t);const o=e.$implicit,r=i.cc();return a?r.selection.toggle(o):null})),i.Qb(),i.Qb()}if(2&t){const t=e.$implicit,a=i.cc();i.Ab(1),i.hc("checked",a.selection.isSelected(t))("aria-label",a.checkboxLabel(t))}}function lt(t,e){1&t&&(i.Rb(0,"th",27),i.wc(1,"Factura"),i.Qb())}function bt(t,e){if(1&t&&(i.Rb(0,"td",29),i.wc(1),i.Qb()),2&t){const t=e.$implicit;i.Ab(1),i.xc(t.factura)}}function ut(t,e){1&t&&(i.Rb(0,"th",27),i.wc(1,"RFC"),i.Qb())}function dt(t,e){if(1&t&&(i.Rb(0,"td",29),i.wc(1),i.Qb()),2&t){const t=e.$implicit;i.Ab(1),i.xc(t.rfc)}}function mt(t,e){1&t&&(i.Rb(0,"th",27),i.wc(1,"AWB"),i.Qb())}function ht(t,e){if(1&t&&(i.Rb(0,"td",29),i.wc(1),i.Qb()),2&t){const t=e.$implicit;i.Ab(1),i.xc(t.awb)}}function pt(t,e){1&t&&(i.Rb(0,"th",27),i.wc(1,"HBW"),i.Qb())}function ft(t,e){if(1&t&&(i.Rb(0,"td",29),i.wc(1),i.Qb()),2&t){const t=e.$implicit;i.Ab(1),i.xc(t.hbw)}}function gt(t,e){1&t&&(i.Rb(0,"th",27),i.wc(1,"Pedimento"),i.Qb())}function wt(t,e){if(1&t&&(i.Rb(0,"td",29),i.wc(1),i.Qb()),2&t){const t=e.$implicit;i.Ab(1),i.xc(t.pedimento)}}function Rt(t,e){1&t&&(i.Rb(0,"th",27),i.wc(1,"Fecha"),i.Qb())}function vt(t,e){if(1&t&&(i.Rb(0,"td",29),i.wc(1),i.Qb()),2&t){const t=e.$implicit;i.Ab(1),i.xc(t.fecha)}}function Qt(t,e){1&t&&(i.Rb(0,"th",27),i.wc(1,"Agente"),i.Qb())}function _t(t,e){if(1&t&&(i.Rb(0,"td",29),i.wc(1),i.Qb()),2&t){const t=e.$implicit;i.Ab(1),i.xc(t.agente)}}function Ct(t,e){1&t&&(i.Rb(0,"th",27),i.wc(1,"Opciones"),i.Qb())}function yt(t,e){if(1&t){const t=i.Sb();i.Rb(0,"td",29),i.Rb(1,"button",31),i.Yb("click",(function(){i.nc(t);const a=e.$implicit;return i.cc().abrirSeleccionado(a.factura,"pdf")})),i.Rb(2,"mat-icon",32),i.wc(3," picture_as_pdf "),i.Qb(),i.Qb(),i.Rb(4,"button",31),i.Yb("click",(function(){i.nc(t);const a=e.$implicit;return i.cc().abrirSeleccionado(a.factura,"xml")})),i.Rb(5,"mat-icon",32),i.wc(6," code "),i.Qb(),i.Qb(),i.Rb(7,"button",31),i.Yb("click",(function(){i.nc(t);const a=e.$implicit;return i.cc().descargarIndividual(a.factura)})),i.Rb(8,"mat-icon",32),i.wc(9," get_app"),i.Qb(),i.Qb(),i.Qb()}}let At=(()=>{class t{constructor(t,e,a){this.http=t,this.mensajeCtrl=e,this.auth=a,this.selection=new m.c(!0,[]),this.displayedColumnsPrueba=["select","factura","rfc","awb","hbw","pedimento","fecha","agente","opciones"],this.pagosTabla=new h.b([])}ngOnInit(){this.pagosPaginada(0,50)}descargarXmls(){let t=[];this.selection.selected.forEach(e=>{t.push(e.factura+".xml")});const e=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);this.generarZip(e,t)}descargarPdfs(){let t=[];this.selection.selected.forEach(e=>{t.push(e.factura+".pdf")});const e=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);this.generarZip(e,t)}descargarPdfsYXmls(){let t=[];this.selection.selected.forEach(e=>{t.push(e.factura+".pdf"),t.push(e.factura+".xml")});const e=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);this.generarZip(e,t)}generarZip(t,e){this.http.post(`${p.a.apiUrl}/crearZip?zipFile=${t}`,e).toPromise().then(e=>{console.log("Resp de hacer zip archivos",e),e.success?this.descargarZip(t):this.mostrarMensaje("Error al descargar el zip","snackRojo")}).catch(t=>{console.log("Error al comprimir archios",t),this.mostrarMensaje("Error al descargar el zip","snackRojo")})}descargarIndividual(t){const e=[t+".xml",t+".pdf"],a=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);this.generarZip(a,e)}descargarZip(t){var e=document.createElement("a");e.href=`${p.a.apiFile}/file/${t}.zip`,e.download=t,e.click(),e.remove()}abrirSeleccionado(t,e){console.log(t);var a=document.createElement("a");a.href=`${p.a.apiFile}/file/${t}.${e}`,a.setAttribute("target","_blank"),a.click(),a.remove()}verCuales(){console.log(this.selection.selected)}isAllSelected(){return this.selection.selected.length===this.pagosTabla.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.pagosTabla.data.forEach(t=>this.selection.select(t))}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}mostrarMensaje(t,e){this.mensajeCtrl.open(t,null,{duration:3e3,verticalPosition:"bottom",panelClass:[e]})}buscarPagos(t){console.log("Valor",t.value),this.peticionPago("ADMIN"==t||12==t.length||13==t.length?"pagos/rfc?rfc="+t:"pagos/agente?agente="+t)}pagosPaginada(t,e){return this.http.get(`${p.a.apiUrl}/pagos/paginas?rango1=${t}&rango2=${e}`).subscribe(a=>{console.log(`De ${t} a ${e}`,a),a.data.length>0&&(this.pagosTabla=new h.b(a.data))},t=>console.log("Error al traer paginadas",t))}peticionPago(t){this.http.get(`${p.a.apiUrl}/${t}`).subscribe(t=>{console.log("Resp de buscar factura",t),t.data.length>0?this.pagosTabla=new h.b(t.data):this.mostrarMensaje("No se encotraron","snackRojo")},t=>{console.log("Error al buscar la factura",t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(f.a),i.Lb(g.a),i.Lb(w.a))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-pagos"]],decls:80,vars:13,consts:[["color","primary"],[2,"width","90%"],["debounce","1000","matInput","",3,"change"],["mat-button","",3,"matMenuTriggerFor"],["perfil","matMenu"],["src","assets/imgs/avatar-01.jpg","alt",""],[2,"font-weight","bold"],["mat-menu-item","",3,"click"],["mat-raised-button","",3,"disabled","matMenuTriggerFor"],["exportar","matMenu"],["tvsItemSize","",1,"wrapper","mat-elevation-z2"],["mat-table","",3,"dataSource"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","factura"],["matColumnDef","rfc"],["matColumnDef","awb"],["matColumnDef","hbw"],["matColumnDef","pedimento"],["matColumnDef","fecha"],["matColumnDef","agente"],["matColumnDef","opciones"],["mat-header-row",""],["mat-row",""],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],[3,"click"],["mat-list-icon",""]],template:function(t,e){if(1&t&&(i.Rb(0,"p"),i.Rb(1,"mat-toolbar",0),i.Rb(2,"mat-toolbar-row"),i.Rb(3,"mat-form-field",1),i.Rb(4,"mat-label"),i.wc(5,"Buscar pago por RFC o Agente"),i.Qb(),i.Rb(6,"input",2),i.Yb("change",(function(t){return e.buscarPagos(t.target.value)})),i.Qb(),i.Qb(),i.Rb(7,"button",3),i.wc(8),i.Rb(9,"mat-icon"),i.wc(10,"expand_more"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(11,"mat-menu",null,4),i.Rb(13,"div"),i.Mb(14,"img",5),i.Rb(15,"p",6),i.wc(16),i.Qb(),i.Rb(17,"p"),i.wc(18),i.Qb(),i.Qb(),i.Mb(19,"mat-divider"),i.Rb(20,"div"),i.Rb(21,"span"),i.wc(22),i.dc(23,"uppercase"),i.Qb(),i.Qb(),i.Mb(24,"mat-divider"),i.Rb(25,"button",7),i.Yb("click",(function(){return e.auth.cerrarSesion()})),i.Rb(26,"mat-icon"),i.wc(27,"assignment_return"),i.Qb(),i.Rb(28,"span"),i.wc(29,"Cerrar sesion"),i.Qb(),i.Qb(),i.Qb(),i.Rb(30,"button",8),i.wc(31," Exportar "),i.Qb(),i.Rb(32,"mat-menu",null,9),i.Rb(34,"button",7),i.Yb("click",(function(){return e.descargarPdfsYXmls()})),i.Rb(35,"mat-icon"),i.wc(36,"cloud_download"),i.Qb(),i.Rb(37,"span"),i.wc(38,"Descargar archivos PDFs y XMLs"),i.Qb(),i.Qb(),i.Rb(39,"button",7),i.Yb("click",(function(){return e.descargarPdfs()})),i.Rb(40,"mat-icon"),i.wc(41,"cloud_download"),i.Qb(),i.Rb(42,"span"),i.wc(43,"Descargar solo PDFs"),i.Qb(),i.Qb(),i.Rb(44,"button",7),i.Yb("click",(function(){return e.descargarXmls()})),i.Rb(45,"mat-icon"),i.wc(46,"cloud_download"),i.Qb(),i.Rb(47,"span"),i.wc(48,"Descargar solo XMLs"),i.Qb(),i.Qb(),i.Qb(),i.Rb(49,"cdk-virtual-scroll-viewport",10),i.Rb(50,"table",11),i.vc(51,rt,1,0,"tr",12),i.vc(52,nt,1,0,"tr",13),i.Pb(53,14),i.vc(54,st,2,3,"th",15),i.vc(55,ct,2,2,"td",16),i.Ob(),i.Pb(56,17),i.vc(57,lt,2,0,"th",15),i.vc(58,bt,2,1,"td",16),i.Ob(),i.Pb(59,18),i.vc(60,ut,2,0,"th",15),i.vc(61,dt,2,1,"td",16),i.Ob(),i.Pb(62,19),i.vc(63,mt,2,0,"th",15),i.vc(64,ht,2,1,"td",16),i.Ob(),i.Pb(65,20),i.vc(66,pt,2,0,"th",15),i.vc(67,ft,2,1,"td",16),i.Ob(),i.Pb(68,21),i.vc(69,gt,2,0,"th",15),i.vc(70,wt,2,1,"td",16),i.Ob(),i.Pb(71,22),i.vc(72,Rt,2,0,"th",15),i.vc(73,vt,2,1,"td",16),i.Ob(),i.Pb(74,23),i.vc(75,Qt,2,0,"th",15),i.vc(76,_t,2,1,"td",16),i.Ob(),i.Pb(77,24),i.vc(78,Ct,2,0,"th",15),i.vc(79,yt,10,0,"td",16),i.Ob(),i.Qb(),i.Qb()),2&t){const t=i.mc(12),a=i.mc(33);i.Ab(7),i.hc("matMenuTriggerFor",t),i.Ab(1),i.yc(" ",null==e.auth.usuario?null:e.auth.usuario.nombre," "),i.Ab(8),i.xc(null==e.auth.usuario?null:e.auth.usuario.nombre),i.Ab(2),i.xc(null==e.auth.usuario?null:e.auth.usuario.correo),i.Ab(4),i.xc(i.ec(23,11,null==e.auth.usuario?null:e.auth.usuario.idrol.rol)),i.Ab(8),i.hc("disabled",e.selection.isEmpty())("matMenuTriggerFor",a),i.Ab(20),i.hc("dataSource",e.pagosTabla),i.Ab(1),i.hc("matHeaderRowDef",e.displayedColumnsPrueba)("matHeaderRowDefSticky",!0),i.Ab(1),i.hc("matRowDefColumns",e.displayedColumnsPrueba)}},directives:[n.a,n.c,R.c,R.f,v.a,Q.a,_.c,l.a,_.d,b.a,_.a,y.c,h.a,A.j,A.g,A.i,A.c,A.e,A.b,A.f,A.h,A.d,k.a,A.a,s.b],pipes:[o.p],styles:[".wrapper[_ngcontent-%COMP%]{height:550px}table[_ngcontent-%COMP%]{width:100%}"]}),t})();var kt=a("3Pt+"),Ft=a("rDax"),xt=a("NXyV"),Dt=a("pLZG"),Mt=a("IzEk");function Ot(t,e){}class Pt{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const St={dialogContainer:Object(tt.m)("dialogContainer",[Object(tt.j)("void, exit",Object(tt.k)({opacity:0,transform:"scale(0.7)"})),Object(tt.j)("enter",Object(tt.k)({transform:"none"})),Object(tt.l)("* => enter",Object(tt.e)("150ms cubic-bezier(0, 0, 0.2, 1)",Object(tt.k)({transform:"none",opacity:1}))),Object(tt.l)("* => void, * => exit",Object(tt.e)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Object(tt.k)({opacity:0})))])};let jt=(()=>{class t extends G.a{constructor(t,e,a,o,r,n){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=a,this._config=r,this._focusMonitor=n,this._animationStateChanged=new i.o,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=r.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,a=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==a&&!a.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement)}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(i.l),i.Lb(X.f),i.Lb(i.h),i.Lb(o.c,8),i.Lb(Pt),i.Lb(X.e))},t.\u0275dir=i.Gb({type:t,viewQuery:function(t,e){var a;1&t&&i.rc(G.c,!0),2&t&&i.lc(a=i.Zb())&&(e._portalOutlet=a.first)},features:[i.xb]}),t})(),Tt=(()=>{class t extends jt{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return $t(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&i.tc("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(i.Ub("id",e._id),i.Bb("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),i.uc("@dialogContainer",e._state))},features:[i.xb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&i.vc(0,Ot,0,0,"ng-template",0)},directives:[G.c],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[St.dialogContainer]}}),t})();const $t=i.Tb(Tt);let Et=0;class Lt{constructor(t,e,a="mat-dialog-"+Et++){this._overlayRef=t,this._containerInstance=e,this.id=a,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new J.a,this._afterClosed=new J.a,this._beforeClosed=new J.a,this._state=0,e._id=a,e._animationStateChanged.pipe(Object(Dt.a)(t=>"opened"===t.state),Object(Mt.a)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Object(Dt.a)(t=>"closed"===t.state),Object(Mt.a)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Object(Dt.a)(t=>t.keyCode===at.e&&!this.disableClose&&!Object(at.o)(t))).subscribe(t=>{t.preventDefault(),It(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():It(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Object(Dt.a)(t=>"closing"===t.state),Object(Mt.a)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function It(t,e,a){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(a)}const zt=new i.r("MatDialogData"),Nt=new i.r("mat-dialog-default-options"),Ut=new i.r("mat-dialog-scroll-strategy"),Yt={provide:Ut,deps:[Ft.c],useFactory:function(t){return()=>t.scrollStrategies.block()}};let Ht=(()=>{class t{constructor(t,e,a,o,i,r,n,s,c){this._overlay=t,this._injector=e,this._defaultOptions=a,this._parentDialog=o,this._overlayContainer=i,this._dialogRefConstructor=n,this._dialogContainerType=s,this._dialogDataToken=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new J.a,this._afterOpenedAtThisLevel=new J.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Object(xt.a)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Object(et.a)(void 0))),this._scrollStrategy=r}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new Pt)).id&&this.getDialogById(e.id);const a=this._createOverlay(e),o=this._attachDialogContainer(a,e),i=this._attachDialogContent(t,o,a,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),o._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new Ft.d({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const a=i.s.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Pt,useValue:e}]}),o=new G.d(this._dialogContainerType,e.viewContainerRef,a,e.componentFactoryResolver);return t.attach(o).instance}_attachDialogContent(t,e,a,o){const r=new this._dialogRefConstructor(a,e,o.id);if(t instanceof i.M)e.attachTemplatePortal(new G.h(t,null,{$implicit:o.data,dialogRef:r}));else{const a=this._createInjector(o,r,e),i=e.attachComponentPortal(new G.d(t,o.viewContainerRef,a));r.componentInstance=i.instance}return r.updateSize(o.width,o.height).updatePosition(o.position),r}_createInjector(t,e,a){const o=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=[{provide:this._dialogContainerType,useValue:a},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||o&&o.get(ot.b,null)||r.push({provide:ot.b,useValue:{value:t.direction,change:Object(K.a)()}}),i.s.create({parent:o||this._injector,providers:r})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let a=e.length-1;a>-1;a--){let o=e[a];o===t||"SCRIPT"===o.nodeName||"STYLE"===o.nodeName||o.hasAttribute("aria-live")||(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(Ft.c),i.Lb(i.s),i.Lb(void 0),i.Lb(void 0),i.Lb(Ft.e),i.Lb(void 0),i.Lb(i.O),i.Lb(i.O),i.Lb(i.r))},t.\u0275dir=i.Gb({type:t}),t})(),Vt=(()=>{class t extends Ht{constructor(t,e,a,o,i,r,n){super(t,e,o,r,n,i,Lt,Tt,zt)}}return t.\u0275fac=function(e){return new(e||t)(i.Vb(Ft.c),i.Vb(i.s),i.Vb(o.f,8),i.Vb(Nt,8),i.Vb(Ut),i.Vb(t,12),i.Vb(Ft.e))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})(),Bt=(()=>{class t{}return t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({factory:function(e){return new(e||t)},providers:[Vt,Yt],imports:[[Ft.f,G.g,W.f],W.f]}),t})();var qt=a("Wp6s"),Xt=a("d3UM");function Zt(t,e){1&t&&(i.Rb(0,"mat-error"),i.Rb(1,"strong"),i.wc(2,"NO"),i.Qb(),i.wc(3," esta disponible "),i.Qb())}function Gt(t,e){1&t&&(i.Rb(0,"p",19),i.wc(1," No coinciden "),i.Qb())}function Wt(t,e){if(1&t&&(i.Rb(0,"mat-option",20),i.wc(1),i.dc(2,"uppercase"),i.Qb()),2&t){const t=e.$implicit;i.hc("value",t.id),i.Ab(1),i.yc(" ",i.ec(2,2,t.rol)," ")}}let Jt=(()=>{class t{constructor(t,e,a){this._dialogRef=t,this.http=e,this.mensajeCtrl=a}ngOnInit(){this.cargarFormulario()}crearUsuario(){const t={nombre:this.usuarioForm.controls.nombre.value,apellidos:this.usuarioForm.controls.apellidos.value,correo:this.usuarioForm.controls.correo.value,rfc:this.usuarioForm.controls.rfc.value,password:this.usuarioForm.controls.password2.value,idrol:{id:this.usuarioForm.controls.rol.value}};console.log("El usuario seria",t),this.http.post(p.a.apiUrl+"/usuario",t).subscribe(t=>{t.success?(this.mostrarMensaje("Se actualizo la contrasena correctamente","sncakVerde"),this.usuarioForm.reset({nombre:null,apellidos:null,correo:null,rfc:null,password:null,password2:null,rol:null})):this.mostrarMensaje("Se actualizo la contrasena correctamente","sncakRojo"),console.log("Resp al crear usuario",t)},t=>{this.mostrarMensaje("Se actualizo la contrasena correctamente","sncakRojo"),console.log("Ocurrio un error al crear el usuario",t)})}cargarFormulario(){this.usuarioForm=new kt.e({nombre:new kt.c(null,[kt.o.required,kt.o.minLength(6)]),apellidos:new kt.c(null,[kt.o.required,kt.o.minLength(6)]),correo:new kt.c(null,[kt.o.required,kt.o.minLength(6)]),rfc:new kt.c(null,[kt.o.required,kt.o.minLength(4),kt.o.maxLength(18)],this.rfcUnico.bind(this)),rol:new kt.c(null,[kt.o.required]),password:new kt.c(null,[kt.o.required,kt.o.minLength(5)]),password2:new kt.c(null,[kt.o.required,kt.o.min(5)])},{validators:this.compararContras}),this.http.get(p.a.apiUrl+"/rol").subscribe(t=>{0!=t.data.length&&(this.roles=t.data),console.log("Resp de los roles",t)},t=>{console.log("Error en obtener roles",t)})}compararContras(t){return t.controls.password2.value===t.controls.password.value?null:{mismatch:!0}}rfcUnico(t){return new Promise((t,e)=>{this.http.get(`${p.a.apiUrl}/usuario/rfcValidacion/?rfc=${this.usuarioForm.controls.rfc.value}`).subscribe(e=>{console.log("Se hizo bien",e),t(1==e.data.length?{existe:!0}:null)},e=>{console.log("Se hizo MAL",e),t({existe:!0})})})}mostrarMensaje(t,e){this.mensajeCtrl.open(t,null,{duration:3e3,verticalPosition:"bottom",panelClass:[e]})}cerrarModal(){this._dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(Lt),i.Lb(f.a),i.Lb(g.a))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-crear-usuario"]],decls:62,vars:5,consts:[[1,"tarjeta"],["src","assets/imgs/avatar-01.jpg","alt","",1,"center"],[2,"text-align","center"],[3,"formGroup"],["cols","2","rowHeight","2:1"],[1,"example-full-width"],["type","text","matInput","","formControlName","rfc","oninput","this.value = this.value.toUpperCase()"],[4,"ngIf"],["type","text","matInput","","formControlName","nombre"],["type","text","matInput","","formControlName","apellidos"],["type","email","matInput","","formControlName","correo"],["type","password","matInput","","formControlName","password"],["type","password","matInput","","formControlName","password2"],["style","color: red;",4,"ngIf"],["appearance","fill"],["formControlName","rol"],[3,"value",4,"ngFor","ngForOf"],["mat-button","",3,"disabled","click"],["mat-button","",3,"click"],[2,"color","red"],[3,"value"]],template:function(t,e){1&t&&(i.Rb(0,"mat-card",0),i.Rb(1,"mat-card-header"),i.Mb(2,"img",1),i.Qb(),i.Rb(3,"mat-card-content",2),i.Rb(4,"form",3),i.Rb(5,"mat-grid-list",4),i.Rb(6,"mat-grid-tile"),i.Rb(7,"mat-form-field",5),i.Rb(8,"mat-label"),i.wc(9,"RFC/ No Agente"),i.Qb(),i.Mb(10,"input",6),i.vc(11,Zt,4,0,"mat-error",7),i.Qb(),i.Qb(),i.Rb(12,"mat-grid-tile"),i.Rb(13,"mat-form-field",5),i.Rb(14,"mat-label"),i.wc(15,"Nombre"),i.Qb(),i.Mb(16,"input",8),i.Rb(17,"mat-error"),i.wc(18," El nombre es "),i.Rb(19,"strong"),i.wc(20,"requerido"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(21,"mat-grid-tile"),i.Rb(22,"mat-form-field",5),i.Rb(23,"mat-label"),i.wc(24,"Apellidos"),i.Qb(),i.Mb(25,"input",9),i.Rb(26,"mat-error"),i.wc(27," El apellido es "),i.Rb(28,"strong"),i.wc(29,"requerido"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(30,"mat-grid-tile"),i.Rb(31,"mat-form-field",5),i.Rb(32,"mat-label"),i.wc(33,"Correo"),i.Qb(),i.Mb(34,"input",10),i.Rb(35,"mat-error"),i.wc(36," El correo es "),i.Rb(37,"strong"),i.wc(38,"requerido"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(39,"mat-form-field",5),i.Rb(40,"mat-label"),i.wc(41,"Contrasena"),i.Qb(),i.Mb(42,"input",11),i.Rb(43,"mat-error"),i.wc(44," La contrasena es "),i.Rb(45,"strong"),i.wc(46,"requerida"),i.Qb(),i.Qb(),i.Qb(),i.Rb(47,"mat-form-field",5),i.Rb(48,"mat-label"),i.wc(49,"Repite la contrasena"),i.Qb(),i.Mb(50,"input",12),i.vc(51,Gt,2,0,"p",13),i.Qb(),i.Rb(52,"mat-form-field",14),i.Rb(53,"mat-label"),i.wc(54,"Elige el rol"),i.Qb(),i.Rb(55,"mat-select",15),i.vc(56,Wt,3,4,"mat-option",16),i.Qb(),i.Qb(),i.Qb(),i.Rb(57,"button",17),i.Yb("click",(function(){return e.crearUsuario()})),i.wc(58," Crear usuario "),i.Qb(),i.Qb(),i.Rb(59,"mat-card-actions"),i.Rb(60,"button",18),i.Yb("click",(function(){return e.cerrarModal()})),i.wc(61,"Regresar"),i.Qb(),i.Qb(),i.Qb()),2&t&&(i.Ab(4),i.hc("formGroup",e.usuarioForm),i.Ab(7),i.hc("ngIf",null==e.usuarioForm.controls.rfc.errors?null:e.usuarioForm.controls.rfc.errors.existe),i.Ab(40),i.hc("ngIf",(null==e.usuarioForm.errors?null:e.usuarioForm.errors.mismatch)&&(e.usuarioForm.controls.password2.dirty||e.usuarioForm.controls.password2.touched)),i.Ab(5),i.hc("ngForOf",e.roles),i.Ab(1),i.hc("disabled",e.usuarioForm.invalid))},directives:[qt.a,qt.d,qt.c,kt.p,kt.l,kt.f,C.a,C.c,R.c,R.f,v.a,kt.b,kt.k,kt.d,o.j,R.b,Xt.a,o.i,Q.a,qt.b,W.i],pipes:[o.p],styles:[".tarjeta[_ngcontent-%COMP%]{width:100%;height:100%}"]}),t})();function Kt(t,e){if(1&t&&(i.Rb(0,"mat-option",15),i.wc(1),i.dc(2,"uppercase"),i.Qb()),2&t){const t=e.$implicit;i.hc("value",t.id),i.Ab(1),i.yc(" ",i.ec(2,2,t.rol)," ")}}let te=(()=>{class t{constructor(t,e,a,o){this.data=t,this._dialogRef=e,this.http=a,this.mensajeCtrl=o,this.cambios=!1}ngOnInit(){this.cargarForm(),this.usuario=this.data}actualizarPassword(){this.http.put(`${p.a.apiUrl}/usuario/password?id=${this.data.id}&password=${this.passwordForm.controls.password.value}`,null).toPromise().then(t=>{if(t.success){this.mostrarMensaje("Se actualizo la contrasena correctamente","sncakVerde");const e={contentType:"text/plain",mailBcc:"",mailCc:"pocholowsd@gmail.com",mailContent:"Tu nueva contrasena es \n "+this.passwordForm.value.password,mailFrom:"mx.notificationes@swissport.com",mailSubject:"Cambio de contrasena",mailTo:this.usuarioForm.controls.correo.value};return console.log("Supuestamente cambio de contrasena",t),this.passwordForm.reset({password:null}),this.cambios=!0,this.enviarEmail(e)}this.mostrarMensaje("No se puedo actualizar la contrasena","sncakRojo")}).then(()=>{}).catch(t=>{console.log("Error al actualizar el rol",t),this.mostrarMensaje("No se puedo actualizar la contrasena","sncakRojo")})}enviarEmail(t){return this.http.post(p.a.apiUrl+"/sendEmails",t).toPromise()}actualizarRol(){this.usuario.idrol.id=this.rolForm.controls.idrol.value,this.http.put(`${p.a.apiUrl}/usuario/rol?id=${this.usuario.id}&idrol=${this.rolForm.controls.idrol.value}`,null).toPromise().then(t=>{if(t.success)return this.mostrarMensaje("Se actualizo el rol correctamente","sncakVerde"),this.rolForm.reset({idrol:this.usuario.idrol.id}),this.cambios=!0,this.enviarEmail({contentType:"text/plain",mailBcc:"",mailCc:"pocholowsd@gmail.com",mailContent:"Se actualizo tu rol",mailFrom:"mx.notificationes@swissport.com",mailSubject:"Cambio de rol",mailTo:this.usuario.correo});this.mostrarMensaje("No se puedo actualizar el rol","sncakRojo")}).catch(t=>{console.log("Error al actualizar el rol",t),this.mostrarMensaje("No se puedo actualizar el rol","sncakRojo")})}actualizarUsuario(){this.usuario.rfc=this.usuarioForm.controls.rfc.value,this.usuario.nombre=this.usuarioForm.controls.nombre.value,this.usuario.apellidos=this.usuarioForm.controls.apellidos.value,this.usuario.correo=this.usuarioForm.controls.correo.value,this.http.put(`${p.a.apiUrl}/usuario/info?apellidos=${this.usuarioForm.controls.apellidos.value}&correo=${this.usuarioForm.controls.correo.value}&id=${this.usuario.id}&nombre=${this.usuarioForm.controls.nombre.value}&rfc=${this.usuarioForm.controls.rfc.value}`,null).toPromise().then(t=>{if(t.success){console.log("Resp de actualizar usuario",t);const e={contentType:"text/plain",mailBcc:"",mailCc:"pocholowsd@gmail.com",mailContent:"Se actualizo la informacion de tu perfil",mailFrom:"mx.notificationes@swissport.com",mailSubject:"Actualizacion de datos",mailTo:this.usuario.correo};return this.cambios=!0,this.usuarioForm.reset({rfc:this.usuario.rfc,nombre:this.usuario.nombre,apellidos:this.usuario.apellidos,correo:this.usuario.correo}),this.enviarEmail(e)}this.mostrarMensaje("Se actualizo el usuario correctamente","sncakRojo")}).then(t=>{console.log("Reso del email",t)}).catch(t=>{this.mostrarMensaje("No se pudo actualizar el usuario","sncakRojo"),console.log("Error al actualizar el usuario",t)})}mostrarMensaje(t,e){this.mensajeCtrl.open(t,null,{duration:3e3,verticalPosition:"bottom",panelClass:[e]})}cerrarModal(){this._dialogRef.close(this.cambios)}cargarForm(){console.log("El perro rfc ahora mierda",this.data.rfc),this.usuarioForm=new kt.e({correo:new kt.c(this.data.correo,[kt.o.required]),nombre:new kt.c(this.data.nombre,kt.o.required),apellidos:new kt.c(this.data.apellidos,kt.o.required),rfc:new kt.c(this.data.rfc,kt.o.required)}),this.passwordForm=new kt.e({password:new kt.c(null,[kt.o.required,kt.o.minLength(5)])}),this.rolForm=new kt.e({idrol:new kt.c(this.data.idrol.id,kt.o.required)}),this.http.get(p.a.apiUrl+"/rol").subscribe(t=>{0!=t.data.length&&(this.roles=t.data),console.log("Resp de los roles",t)},t=>{console.log("Error en obtener roles",t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(zt),i.Lb(Lt),i.Lb(f.a),i.Lb(g.a))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-editar-usuario"]],decls:71,vars:7,consts:[[1,"tarjeta"],["src","assets/imgs/avatar-01.jpg","alt","",1,"center"],[2,"text-align","center"],[3,"formGroup"],[1,"example-full-width"],["type","text","matInput","","formControlName","rfc"],["type","text","matInput","","formControlName","nombre"],["type","text","matInput","","formControlName","apellidos"],["type","email","matInput","","formControlName","correo"],["mat-raised-button","","color","primary",3,"disabled","click"],["appearance","fill"],["formControlName","idrol"],[3,"value",4,"ngFor","ngForOf"],["type","password","matInput","","formControlName","password"],["mat-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(i.Rb(0,"mat-card",0),i.Rb(1,"mat-card-header"),i.Mb(2,"img",1),i.Qb(),i.Rb(3,"mat-card-content",2),i.Rb(4,"form",3),i.Rb(5,"mat-form-field",4),i.Rb(6,"mat-label"),i.wc(7,"RFC/ No Agente"),i.Qb(),i.Mb(8,"input",5),i.Rb(9,"mat-error"),i.wc(10," Please enter a valid email address "),i.Qb(),i.Rb(11,"mat-error"),i.wc(12," Email is "),i.Rb(13,"strong"),i.wc(14,"required"),i.Qb(),i.Qb(),i.Qb(),i.Rb(15,"mat-form-field",4),i.Rb(16,"mat-label"),i.wc(17,"Nombre"),i.Qb(),i.Mb(18,"input",6),i.Rb(19,"mat-error"),i.wc(20," Please enter a valid email address "),i.Qb(),i.Rb(21,"mat-error"),i.wc(22," Email is "),i.Rb(23,"strong"),i.wc(24,"required"),i.Qb(),i.Qb(),i.Qb(),i.Rb(25,"mat-form-field",4),i.Rb(26,"mat-label"),i.wc(27,"Apellidos"),i.Qb(),i.Mb(28,"input",7),i.Rb(29,"mat-error"),i.wc(30," Please enter a valid email address "),i.Qb(),i.Rb(31,"mat-error"),i.wc(32," Email is "),i.Rb(33,"strong"),i.wc(34,"required"),i.Qb(),i.Qb(),i.Qb(),i.Rb(35,"mat-form-field",4),i.Rb(36,"mat-label"),i.wc(37,"Correo"),i.Qb(),i.Mb(38,"input",8),i.Rb(39,"mat-error"),i.wc(40," Please enter a valid email address "),i.Qb(),i.Rb(41,"mat-error"),i.wc(42," Email is "),i.Rb(43,"strong"),i.wc(44,"required"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(45,"button",9),i.Yb("click",(function(){return e.actualizarUsuario()})),i.wc(46,"Actualizar datos del usuario"),i.Qb(),i.Rb(47,"form",3),i.Rb(48,"mat-form-field",10),i.Rb(49,"mat-label"),i.wc(50,"Elige el rol"),i.Qb(),i.Rb(51,"mat-select",11),i.vc(52,Kt,3,4,"mat-option",12),i.Qb(),i.Qb(),i.Qb(),i.Rb(53,"button",9),i.Yb("click",(function(){return e.actualizarRol()})),i.wc(54,"Actualizar el rol del usuario"),i.Qb(),i.Rb(55,"form",3),i.Rb(56,"mat-form-field",4),i.Rb(57,"mat-label"),i.wc(58,"Ingresa la nueva contrasena"),i.Qb(),i.Mb(59,"input",13),i.Rb(60,"mat-error"),i.wc(61," Please enter a valid email address "),i.Qb(),i.Rb(62,"mat-error"),i.wc(63," Email is "),i.Rb(64,"strong"),i.wc(65,"required"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(66,"button",9),i.Yb("click",(function(){return e.actualizarPassword()})),i.wc(67,"Actualizar contrasena del usuario"),i.Qb(),i.Qb(),i.Rb(68,"mat-card-actions"),i.Rb(69,"button",14),i.Yb("click",(function(){return e.cerrarModal()})),i.wc(70,"Regresar"),i.Qb(),i.Qb(),i.Qb()),2&t&&(i.Ab(4),i.hc("formGroup",e.usuarioForm),i.Ab(41),i.hc("disabled",!e.usuarioForm.dirty),i.Ab(2),i.hc("formGroup",e.rolForm),i.Ab(5),i.hc("ngForOf",e.roles),i.Ab(1),i.hc("disabled",!e.rolForm.dirty),i.Ab(2),i.hc("formGroup",e.passwordForm),i.Ab(11),i.hc("disabled",!e.passwordForm.dirty))},directives:[qt.a,qt.d,qt.c,kt.p,kt.l,kt.f,R.c,R.f,v.a,kt.b,kt.k,kt.d,R.b,Q.a,Xt.a,o.i,qt.b,W.i],pipes:[o.p],styles:[".center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:20%}"]}),t})();function ee(t,e){1&t&&i.Mb(0,"tr",22)}function ae(t,e){1&t&&i.Mb(0,"tr",23)}function oe(t,e){1&t&&(i.Rb(0,"th",24),i.wc(1,"RFC"),i.Qb())}function ie(t,e){if(1&t&&(i.Rb(0,"td",25),i.wc(1),i.Qb()),2&t){const t=e.$implicit;i.Ab(1),i.xc(t.rfc)}}function re(t,e){1&t&&(i.Rb(0,"th",24),i.wc(1,"Nombre"),i.Qb())}function ne(t,e){if(1&t&&(i.Rb(0,"td",25),i.wc(1),i.Qb()),2&t){const t=e.$implicit;i.Ab(1),i.xc(t.nombre)}}function se(t,e){1&t&&(i.Rb(0,"th",24),i.wc(1,"Apellidos"),i.Qb())}function ce(t,e){if(1&t&&(i.Rb(0,"td",25),i.wc(1),i.Qb()),2&t){const t=e.$implicit;i.Ab(1),i.xc(t.apellidos)}}function le(t,e){1&t&&(i.Rb(0,"th",24),i.wc(1,"Correo"),i.Qb())}function be(t,e){if(1&t&&(i.Rb(0,"td",25),i.wc(1),i.Qb()),2&t){const t=e.$implicit;i.Ab(1),i.xc(t.correo)}}function ue(t,e){1&t&&(i.Rb(0,"th",24),i.wc(1,"Fecha"),i.Qb())}function de(t,e){if(1&t&&(i.Rb(0,"td",25),i.wc(1),i.Qb()),2&t){const t=e.$implicit;i.Ab(1),i.xc(t.fecha)}}function me(t,e){1&t&&(i.Rb(0,"th",24),i.wc(1,"Rol"),i.Qb())}function he(t,e){if(1&t&&(i.Rb(0,"td",25),i.wc(1),i.dc(2,"uppercase"),i.Qb()),2&t){const t=e.$implicit;i.Ab(1),i.xc(i.ec(2,1,t.idrol.rol))}}function pe(t,e){1&t&&(i.Rb(0,"th",24),i.wc(1,"Opciones"),i.Qb())}function fe(t,e){if(1&t){const t=i.Sb();i.Rb(0,"td",25),i.Rb(1,"button",26),i.Yb("click",(function(){i.nc(t);const a=e.$implicit;return i.cc().editarUsuario(a)})),i.Rb(2,"mat-icon",27),i.wc(3," create "),i.Qb(),i.Qb(),i.Rb(4,"button",26),i.Yb("click",(function(){i.nc(t);const a=e.$implicit;return i.cc().eliminarUsuario(a)})),i.Rb(5,"mat-icon",27),i.wc(6," delete "),i.Qb(),i.Qb(),i.Qb()}}const ge=[{path:"",component:d,children:[{path:"",redirectTo:"facturas",pathMatch:"full"},{path:"facturas",component:q},{path:"pagos",component:At},{path:"usuarios",component:(()=>{class t{constructor(t,e,a,o){this.http=t,this.mensajeCtrl=e,this.auth=a,this.dialog=o,this.displayedColumnsPrueba=["rfc","nombre","apellidos","correo","rol","opciones"],this.usuariosTabla=new h.b([])}ngOnInit(){this.peticionUsuarios("usuario")}editarUsuario(t){this.dialog.open(te,{data:t,hasBackdrop:!1}).afterClosed().subscribe(t=>{console.log("Que sale weeey",t),t&&this.peticionUsuarios("usuario")})}crearUsuario(){this.dialog.open(Jt).afterClosed().subscribe(t=>{console.log("Que sale weeey",t),t&&this.peticionUsuarios("usuario")})}eliminarUsuario(t){}mostrarMensaje(t,e){this.mensajeCtrl.open(t,null,{duration:3e3,verticalPosition:"bottom",panelClass:[e]})}buscarPagos(t){console.log("Valor",t.value),"ADMIN"!=t&&12!=t.length&&13!=t.length||this.peticionUsuarios("usuario/rfc?rfc="+t)}peticionUsuarios(t){this.http.get(`${p.a.apiUrl}/${t}`).subscribe(t=>{console.log("Resp de buscar factura",t),t.data.length>0?this.usuariosTabla=new h.b(t.data):this.mostrarMensaje("No se encotraron","snackRojo")},t=>{console.log("Error al buscar la factura",t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(f.a),i.Lb(g.a),i.Lb(w.a),i.Lb(Vt))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-usuarios"]],decls:57,vars:11,consts:[["color","primary"],[2,"width","90%"],["debounce","1000","matInput","",3,"change"],["mat-button","",3,"matMenuTriggerFor"],["perfil","matMenu"],["src","assets/imgs/avatar-01.jpg","alt",""],[2,"font-weight","bold"],["mat-menu-item","",3,"click"],["mat-raised-button","","color","primary",3,"click"],["tvsItemSize","",1,"wrapper","mat-elevation-z2"],["mat-table","",3,"dataSource"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","rfc"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","apellidos"],["matColumnDef","correo"],["matColumnDef","fecha"],["matColumnDef","rol"],["matColumnDef","opciones"],["mat-header-row",""],["mat-row",""],["mat-header-cell",""],["mat-cell",""],[3,"click"],["mat-list-icon",""]],template:function(t,e){if(1&t&&(i.Rb(0,"p"),i.Rb(1,"mat-toolbar",0),i.Rb(2,"mat-toolbar-row"),i.Rb(3,"mat-form-field",1),i.Rb(4,"mat-label"),i.wc(5,"Buscar pago por RFC o Agente"),i.Qb(),i.Rb(6,"input",2),i.Yb("change",(function(t){return e.buscarPagos(t.target.value)})),i.Qb(),i.Qb(),i.Rb(7,"button",3),i.wc(8),i.Rb(9,"mat-icon"),i.wc(10,"expand_more"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(11,"mat-menu",null,4),i.Rb(13,"div"),i.Mb(14,"img",5),i.Rb(15,"p",6),i.wc(16),i.Qb(),i.Rb(17,"p"),i.wc(18),i.Qb(),i.Qb(),i.Mb(19,"mat-divider"),i.Rb(20,"div"),i.Rb(21,"span"),i.wc(22),i.dc(23,"uppercase"),i.Qb(),i.Qb(),i.Mb(24,"mat-divider"),i.Rb(25,"button",7),i.Yb("click",(function(){return e.auth.cerrarSesion()})),i.Rb(26,"mat-icon"),i.wc(27,"assignment_return"),i.Qb(),i.Rb(28,"span"),i.wc(29,"Cerrar sesion"),i.Qb(),i.Qb(),i.Qb(),i.Rb(30,"button",8),i.Yb("click",(function(){return e.crearUsuario()})),i.wc(31,"Crear usuario"),i.Qb(),i.Rb(32,"cdk-virtual-scroll-viewport",9),i.Rb(33,"table",10),i.vc(34,ee,1,0,"tr",11),i.vc(35,ae,1,0,"tr",12),i.Pb(36,13),i.vc(37,oe,2,0,"th",14),i.vc(38,ie,2,1,"td",15),i.Ob(),i.Pb(39,16),i.vc(40,re,2,0,"th",14),i.vc(41,ne,2,1,"td",15),i.Ob(),i.Pb(42,17),i.vc(43,se,2,0,"th",14),i.vc(44,ce,2,1,"td",15),i.Ob(),i.Pb(45,18),i.vc(46,le,2,0,"th",14),i.vc(47,be,2,1,"td",15),i.Ob(),i.Pb(48,19),i.vc(49,ue,2,0,"th",14),i.vc(50,de,2,1,"td",15),i.Ob(),i.Pb(51,20),i.vc(52,me,2,0,"th",14),i.vc(53,he,3,3,"td",15),i.Ob(),i.Pb(54,21),i.vc(55,pe,2,0,"th",14),i.vc(56,fe,7,0,"td",15),i.Ob(),i.Qb(),i.Qb()),2&t){const t=i.mc(12);i.Ab(7),i.hc("matMenuTriggerFor",t),i.Ab(1),i.yc(" ",null==e.auth.usuario?null:e.auth.usuario.nombre," "),i.Ab(8),i.xc(null==e.auth.usuario?null:e.auth.usuario.nombre),i.Ab(2),i.xc(null==e.auth.usuario?null:e.auth.usuario.correo),i.Ab(4),i.xc(i.ec(23,9,null==e.auth.usuario?null:e.auth.usuario.idrol.rol)),i.Ab(11),i.hc("dataSource",e.usuariosTabla),i.Ab(1),i.hc("matHeaderRowDef",e.displayedColumnsPrueba)("matHeaderRowDefSticky",!0),i.Ab(1),i.hc("matRowDefColumns",e.displayedColumnsPrueba)}},directives:[n.a,n.c,R.c,R.f,v.a,Q.a,_.c,l.a,_.d,b.a,_.a,y.c,h.a,A.j,A.g,A.i,A.c,A.e,A.b,A.f,A.h,A.d,A.a,s.b],pipes:[o.p],styles:[".wrapper[_ngcontent-%COMP%]{height:550px}table[_ngcontent-%COMP%]{width:100%}"]}),t})()}]}];let we=(()=>{class t{}return t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({factory:function(e){return new(e||t)},imports:[[o.b,c.d.forChild(ge),r.d,b.b,s.d,n.b,it,R.e,v.b,Q.b,l.b,f.b,g.b,y.e,A.l,h.c,k.b,_.b,Bt,kt.g,kt.n,qt.e,Xt.b,C.b]]}),t})()}}]);